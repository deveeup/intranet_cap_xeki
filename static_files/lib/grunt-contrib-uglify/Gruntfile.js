"use strict";module.exports=function(s){s.initConfig({jshint:{all:["Gruntfile.js","tasks/**/*.js","<%= nodeunit.tests %>"],options:{jshintrc:".jshintrc"}},clean:{tests:["tmp"]},uglify:{compress:{files:{"tmp/compress.js":["test/fixtures/src/simple.js"]},options:{mangle:!1}},compress_mangle:{files:{"tmp/compress_mangle.js":["test/fixtures/src/simple.js"]}},no_src:{files:{"tmp/compress_mangle.js":[]}},compress_mangle_except:{files:{"tmp/compress_mangle_except.js":["test/fixtures/src/simple.js"]},options:{mangle:{except:["argumentC"]}}},compress_mangle_beautify:{files:{"tmp/compress_mangle_beautify.js":["test/fixtures/src/simple.js"]},options:{beautify:!0}},enclose:{files:{"tmp/enclose.js":["test/fixtures/src/simple.js"]},options:{beautify:!0,compress:!1,enclose:{"window.argA":"paramA","window.argB":"paramB"},mangle:!1}},multifile:{files:{"tmp/multifile.js":["test/fixtures/src/simple.js","test/fixtures/src/comments.js"]},options:{mangle:!1}},compress_mangle_sourcemap:{files:{"/dev/null":["test/fixtures/src/simple.js"]},options:{sourceMap:"tmp/compress_mangle_sourcemap"}},sourcemapin:{files:{"tmp/sourcemapin.js":["test/fixtures/src/simple2.js"]},options:{mangle:!1,banner:"// Hello World\n",sourceMap:"tmp/sourcemapin",sourceMapIn:"test/fixtures/src/simple2.map",sourceMapRoot:"http://local.host/js/"}},sourcemapurl:{files:{"tmp/sourcemapurl.js":["test/fixtures/src/simple.js"]},options:{sourceMappingURL:"js/sourcemapurl.js.map"}},comments:{src:"test/fixtures/src/comments.js",dest:"tmp/comments.js",options:{mangle:!1,preserveComments:"some"}},wrap:{src:"test/fixtures/src/simple.js",dest:"tmp/wrap.js",options:{mangle:!1,wrap:"testExport"}},exportAll:{src:"test/fixtures/src/simple.js",dest:"tmp/exportAll.js",options:{mangle:!1,wrap:"testExport",exportAll:!0}},sourcemap_prefix:{files:{"/dev/null":["test/fixtures/src/simple.js"]},options:{sourceMap:"tmp/sourcemap_prefix",sourceMapPrefix:3}},multiple_sourcemaps:{files:{"tmp/multiple_sourcemaps1.js":["test/fixtures/src/simple.js"],"tmp/multiple_sourcemaps2.js":["test/fixtures/src/comments.js"]},options:{sourceMap:function(s){return s.replace(/\.js$/,".map")},sourceMappingURL:function(s){return s.replace(/\.js$/,".mapurl")}}},sourcemap_in_generator_single_src:{files:[{expand:!0,flatten:!0,src:["test/fixtures/expected/multiple_sourcemaps*.js"],dest:"tmp",ext:".min.js"}],options:{sourceMap:function(s){return s.replace(/\.js$/,"")+".map"},sourceMapIn:function(s){return s.replace(/\.js$/,"")+".map"}}},sourcemap_in_generator_multi_src:{src:"test/fixtures/expected/multiple_sourcemaps*.js",dest:"tmp/multiple_sourcemaps_all.min.js",options:{sourceMap:function(s){return s.replace(/\.js$/,"")+".map"},sourceMapIn:function(s){return s.replace(/\.js$/,"")+".map"}}}},nodeunit:{tests:["test/*_test.js"]}}),s.registerTask("expectFail",function(){var e=this.args.join(":"),t=this.async();s.util.spawn({grunt:!0,args:e},function(r,p,i){s.log.write("\n > "+p.stdout.split("\n").join("\n > ")+"\n");var o=!!r||new Error("Task "+e+" unexpectedly passed.");t(o)})}),s.loadTasks("tasks"),s.loadNpmTasks("grunt-contrib-jshint"),s.loadNpmTasks("grunt-contrib-clean"),s.loadNpmTasks("grunt-contrib-nodeunit"),s.loadNpmTasks("grunt-contrib-internal"),s.registerTask("test",["clean","uglify:compress","uglify:compress_mangle","uglify:no_src","uglify:compress_mangle_except","uglify:compress_mangle_beautify","uglify:multifile","uglify:compress_mangle_sourcemap","uglify:sourcemapin","uglify:sourcemapurl","uglify:comments","uglify:wrap","uglify:exportAll","uglify:sourcemap_prefix","uglify:multiple_sourcemaps","uglify:enclose","uglify:sourcemap_in_generator_single_src","expectFail:uglify:sourcemap_in_generator_multi_src","nodeunit"]),s.registerTask("default",["jshint","test","build-contrib"])};